<div class="container">
  <form [formGroup]="eventsForm" (ngSubmit)="onSubmit()">
    <div formGroupName="pg1" *ngIf="pageNum === 1">
      <div class="progress" style="height:30px;">
      <div class="progress-bar" role="progressbar" style="width: 20%; height" aria-valuenow="20" aria-valuemin="0" aria-valuemax="100">Getting Started</div>
    </div>
      <div class="form-group" [ngClass]="{'has-success':eventNameIsValid,'has-danger':!eventNameIsValid}">
        <label for="ename">Event name</label>
        <input type="text" id="ename" class="form-control" placeholder="Event Name" formControlName="eventName">
        <p class="help-block" *ngIf="eventsForm.get('pg1.eventName').touched && !eventNameVal">
          This field cannot be left empty
        </p>
      </div>

      <div class="d-flex">
        <p class="px-3 mx-3" style="color:white;">Event Date</p>
        <div class="form-group" [ngClass]="{'has-success':eventDateFromIsValid,'has-danger':!eventDateFromIsValid}">
          <label for="datefrom">From</label>
          <input type="date" id="datefrom" class="form-control" formControlName="eventDateFrom">
          <p class="help-block" *ngIf="eventsForm.get('pg1.eventDateFrom').touched && !eventDateFromVal">
            This field cannot be left empty
          </p>
        </div>
        <div class="form-group" [ngClass]="{'has-success':eventDateToIsValid,'has-danger':!eventDateToIsValid}">
          <label for="dateto">To</label>
          <input type="date" id="dateto" class="form-control" formControlName="eventDateTo">
          <p class="help-block" *ngIf="eventsForm.get('pg1.eventDateTo').touched && !eventDateToVal">
            This field cannot be left empty
          </p>
        </div>
      </div>


      <div class="form-group" [ngClass]="{'has-success':descriptionValid,'has-danger':!descriptionIsValid}">
        <label for="aboutevent">About Event</label>
        <textarea class="form-control" id="aboutevent" rows="5" formControlName="description"></textarea>
        <p class="help-block" *ngIf="eventsForm.get('pg1.description').touched && !descriptionVal">
          This field cannot be left empty
        </p>
      </div>

      <div class="form-group">
        <label for="background">Background Image (1600x1200)</label>
        <input type="url" class="form-control" id="background" aria-describedby="fileHelp" formControlName="background">
      </div>

    </div>


    <div formGroupName="pg2" *ngIf="pageNum === 2">
      <div class="progress" style="height:30px;">
      <div class="progress-bar" role="progressbar" style="width: 36%;" aria-valuenow="36" aria-valuemin="0" aria-valuemax="100">About Events</div>
    </div>
      <div class="form-group">
        <label for="hashtags">Event Hashtags</label>
        <input type="text" id="hashtags" class="form-control" placeholder="#Hackathon#2018" formControlName="hashtags">
      </div>

      <div formArrayName="events">
        <h3 style="color:white;">Events</h3>
        <button class="btn btn-primary mb-4" type="button" (click)="onAddEvents()">Add event</button>
        <div class="form-group" *ngFor="let eventGroup of eventsForm.get('pg2.events').controls; let i = index">
          <div [formGroupName]="i">
            <div class="form-group">
              <label for="ename">Event name</label>
              <input type="text" id="ename" class="form-control" placeholder="Event Name" formControlName="name">
            </div>

            <div class="d-flex">
              <p class="px-3 mx-3">Event Time</p>
              <div class="form-group">
                <label for="from">From</label>
                <input type="time" id="from" class="form-control" formControlName="from">
              </div>
              <div class="form-group">
                <label for="to">To</label>
                <input type="time" id="to" class="form-control" formControlName="to">
              </div>
            </div>

            <div class="form-group">
              <label for="venue">Venue</label>
              <input type="text" id="venue" class="form-control" placeholder="Venue" formControlName="venue">
            </div>

            <div class="form-group">
              <label for="edescription">Description</label>
              <textarea class="form-control" id="edescription" rows="5" formControlName="description"></textarea>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div formGroupName="pg3" *ngIf="pageNum === 3">
      <div class="progress" style="height:30px;">
      <div class="progress-bar" role="progressbar" style="width: 52%;" aria-valuenow="52" aria-valuemin="0" aria-valuemax="100">Social connect</div>
    </div>
      <div class="form-group">
        <label for="rlink" style="color:white;">Registration Link</label>
        <input type="url" id="rlink" class="form-control" placeholder="e.g google form" formControlName="register">
      </div>
      <div formGroupName="links">
        <div class="d-flex mx-3 px-3">
          <p style="width: 20%;" style="color:white;">Profile Links</p>
          <div style="width: 80%">
            <table class="table table-hover">
              <tr>
                <th scope="row" style="color:white;">Github</th>
                <td class="form-group">
                  <input type="url" class="form-control" placeholder="Github link" formControlName="github">
                </td>
              </tr>
              <tr>
                <th scope="row" style="color:white;">Google+</th>
                <td class="form-group">
                  <input type="url" class="form-control" placeholder="Google+ link" formControlName="googlep">
                </td>
              </tr>
              <tr>
                <th scope="row" style="color:white;">Facebook</th>
                <td class="form-group">
                  <input type="url" class="form-control" placeholder="Facebook link" formControlName="facebook">
                </td>
              </tr>
              <tr>
                <th scope="row" style="color:white;">Twitter</th>
                <td class="form-group">
                  <input type="url" class="form-control" placeholder="Twitter link" formControlName="twitter">
                </td>
              </tr>
              <tr>
                <th scope="row" style="color:white;">Linkedin</th>
                <td class="form-group">
                  <input type="url" class="form-control" placeholder="Linkedin link" formControlName="linkedin">
                </td>
              </tr>
              <tr>
                <th scope="row" style="color:white;">Instagram</th>
                <td class="form-group">
                  <input type="url" class="form-control" placeholder="Instagram link" formControlName="instagram">
                </td>
              </tr>
            </table>
          </div>
        </div>
      </div>
    </div>

    <div formGroupName="pg4" *ngIf= "pageNum === 4">
      <div class="progress" style="height:30px;">
      <div class="progress-bar" role="progressbar" style="width: 68%;" aria-valuenow="68" aria-valuemin="0" aria-valuemax="100">Speakers</div>
    </div>
      <div formArrayName="speakers">
        <h3 style="color:white;">Speakers</h3>
        <button class="btn btn-primary mb-4" type="button" (click)="onAddSpeakers()">Add Speaker</button>
        <div class="form-group" *ngFor="let speakerGroup of eventsForm.get('pg4.speakers').controls; let i = index">

          <div [formGroupName]="i">

            <div class="form-group">
              <label for="sname">Speaker name</label>
              <input type="text" id="sname" class="form-control" placeholder="Speaker's Name" formControlName="name">
            </div>

            <div class="form-group">
              <label for="description">Description</label>
              <input type="text" id="description" class="form-control" placeholder="A little about the speaker" formControlName="description">
            </div>

            <div class="form-group">
              <label for="avatar">Speaker's Photo</label>
              <input type="url" class="form-control-text" id="avatar" aria-describedby="fileHelp" formControlName="avatar">
            </div>
            <div formGroupName="links">

              <div class="d-flex mx-3 px-3">
                <p style="width: 20%;" style="color:white;">Profile Links</p>
                <div style="width: 80%">
                  <table class="table table-hover">
                    <tr>
                      <th scope="row" style="color:white;">Github</th>
                      <td class="form-group">
                        <input type="url" class="form-control" placeholder="Github link" formControlName="github">
                      </td>
                    </tr>
                    <tr>
                      <th scope="row" style="color:white;">Google+</th>
                      <td class="form-group">
                        <input type="url" class="form-control" placeholder="Google+ link" formControlName="googlep">
                      </td>
                    </tr>
                    <tr>
                      <th scope="row" style="color:white;">Facebook</th>
                      <td class="form-group">
                        <input type="url" class="form-control" placeholder="Facebook link" formControlName="facebook">
                      </td>
                    </tr>
                    <tr>
                      <th scope="row" style="color:white;">Twitter</th>
                      <td class="form-group">
                        <input type="url" class="form-control" placeholder="Twitter link" formControlName="twitter">
                      </td>
                    </tr>
                    <tr>
                      <th scope="row" style="color:white;">Linkedin</th>
                      <td class="form-group">
                        <input type="url" class="form-control" placeholder="Linkedin link" formControlName="linkedin">
                      </td>
                    </tr>
                    <tr>
                      <th scope="row" style="color:white;">Instagram</th>
                      <td class="form-group">
                        <input type="url" class="form-control" placeholder="Instagram link" formControlName="instagram">
                      </td>
                    </tr>
                  </table>
                </div>
              </div>
            </div>


          </div>
        </div>
      </div>
    </div>

    <div formGroupName="pg5" *ngIf="pageNum === 5">
      <div class="progress" style="height:30px;">
      <div class="progress-bar" role="progressbar" style="width: 84%;" aria-valuenow="84" aria-valuemin="0" aria-valuemax="100">Sponsors</div>
    </div>
      <div formArrayName="sponsors">
        <h3 style="color:white;">Sponsors</h3>
        <button class="btn btn-primary mb-4" type="button" (click)="onAddSponsors()">Add Sponsor</button>
        <div class="form-group" *ngFor="let sponsorGroup of eventsForm.get('pg5.sponsors').controls; let i = index">
          <div [formGroupName]="i">
            <div class="form-group">
              <label for="logo">Sponsor's Logo</label>
              <input type="url" class="form-control" id="logo" aria-describedby="fileHelp" formControlName="logo">
            </div>
            <div class="form-group">
              <label for="link">Link to sponsor's website</label>
              <input type="url" class="form-control" id="link" aria-describedby="fileHelp" formControlName="link">
            </div>
          </div>
        </div>
      </div>
    </div>
    <div formGroupName="pg6" *ngIf="pageNum === 6">
      <div class="progress" style="height:30px;">
      <div class="progress-bar" role="progressbar" style="width: 98%;" aria-valuenow="98" aria-valuemin="0" aria-valuemax="100">Almost done</div>
    </div>
            <h3 style="color:white;">Contact Details</h3>
      <div class="form-group row">
        <label for="example-tel-input" class="col-2 col-form-label">Phone - 1</label>
        <div class="col-10">
          <input class="form-control" type="text" value="+91936922221" id="example-tel-input" formControlName="phone1">
        </div>
        <label for="example-tel-input" class="col-2 col-form-label">Phone - 2</label>
        <div class="col-10">
          <input class="form-control" type="text" value="+91936922221" id="example-tel-input" formControlName="phone2">
        </div>
      </div>
      <div class="form-group">
        <label for="maps">Address</label>
        <input placeholder="search for location" type="text" class="form-control" formControlName="address" id="maps">
      </div>

      <!-- <agm-map [latitude]="latitude" [longitude]="longitude" [scrollwheel]="false" [zoom]="zoom">
        <agm-marker [latitude]="latitude" [longitude]="longitude"></agm-marker>
      </agm-map>

      <div id="googleMap" style="width:500px;height:380px;"></div> -->
    </div>

    <button type="submit" class="btn btn-primary" [disabled]="!eventsForm.valid">Submit</button>
    <hr>
    <hr>
    <button type="button" class="btn btn-primary" [disabled]="pageNum === 1" (click)="prevPage()">Prev</button>
    <button type="button" class="btn btn-primary" [disabled]="pageNum === 6" (click)="nextPage()">Next</button>
  </form>
</div>
